# =============================================================================
# Example Qudi configuration file, optimiert für OptimalControl Plugin
# =============================================================================

global:
    # Module beim Start direkt laden? Nein, lieber manuell starten.
    startup_modules: []

    # Server-Konfiguration (für Remote-Aufrufe, z.B. Jupyter-Notebook)
    remote_modules_server:
        address: 'localhost'
        port: 12346

    # Server-Port für lokales Serving der Modul-Namespace, notwendig für Jupyter-Kernel:
    namespace_server_port: 18862

    # Wenn True, werden Remote-Methodenaufrufe serialisiert und de-serialisiert (hilfreich bei numpy)
    force_remote_calls_by_value: True

    # Qss-Stylesheet für das GUI-Design
    stylesheet: 'qdark.qss'

    # Datenverzeichnis (optional) – daily_data_dirs: True => Tägliche Unterordner
    daily_data_dirs: True


# =============================================================================
#  GUI SECTION
# =============================================================================
gui:
    # Optimal-Control GUI
    optimalcontrol:
        module.Class: 'optimalcontrol.OptimizationGUI.OptimizationGUI'
        connect:
            optimization_logic: 'optimizationlogic'


# =============================================================================
#  LOGIC SECTION
# =============================================================================
logic:
    # Optimal-Control Logic (QuOCS-Plugin)
    optimizationlogic:
        module.Class: 'optimalcontrol.OptimizationLogic.OptimizationLogic'
        connect:
            fom_logic: 'fomlogic'
            controls_logic: 'controlslogic'

    fomlogic:
        module.Class: 'optimalcontrol.worker_fom.WorkerFom'
        options:
            max_time: 30.0

    controlslogic:
        module.Class: 'optimalcontrol.worker_controls.WorkerControls'
        options:
            max_time: 30.0